# 정규 표현식 시작하기
- 정규 표현식에서는 메타 문자(meta characters)를 사용한다. 먼저 메타 문자가 무엇인지 알아보자.

## 정규 표현식의 기초, 메타 문자
- 메타 문자란 원래 그 문자가 가진 뜻이 아니라 특별한 의미를 가진 문자를 말한다. 
- 정규 표현식에 다음과 같은 메타 문자를 사용하면 특별한 의미를 갖게 된다.

```python
. ^ $ * + ? { } [ ] \ | ( )
```

### \[ \] 문자 - 문자 클래스

- 우리가 가장 먼저 살펴볼 메타 문자는 바로 문자 클래스(character class)인 \[\]이다. 문자 클래스로 만들어진 정규식은 ‘\[’ 와 ‘\]’ 사이의 문자들과 매치’라는 의미를 갖는다.
- 문자 클래스를 만드는 메타 문자인 \[ \] 사이에는 어떤 문자도 들어갈 수 있다.
- 즉, 정규 표현식이 <code>\[abc\]</code>라면 이 표현식의 의미는 ‘a, b, c 중 한 개의 문자와 매치’를 뜻한다. 이해를 돕기 위해 문자열 "a", "before", "dude"가 정규식 <code>\[abc\]</code>와 어떻게 매치되는지 살펴보자.
    - "a"는 정규식과 일치하는 문자인 "a"가 있으므로 매치된다.
    - "before"는 정규식과 일치하는 문자인 "b"가 있으므로 매치된다.
    - "dude"는 정규식과 일치하는 문자인 a, b, c 중 어느 하나도 포함하고 있지 않으므로 매치되지 않는다.
- \[\] 안의 두 문자 사이에 하이픈(-)을 사용하면 두 문자 사이의 범위를 의미한다. 예를 들어 <code>\[a-c\]</code>라는 정규 표현식은 <code>\[abc\]</code>와 동일하고 <code>\[0-5\]</code>는 <code>\[012345\]</code>와 동일하다.
- 다음은 하이픈(-)을 사용한 문자 클래스의 사용 예이다.
    - \[a-zA-Z\] : 모든 알파벳
    - \[0-9\] : 모든 숫자
- 문자 클래스(\[\]) 안에는 어떤 문자나 메타 문자도 사용할 수 있지만, 주의해야 할 메타 문자가 1가지 있다. 그것은 바로 <code>^</code>인데, 문자 클래스 안에 ^ 메타 문자를 사용할 경우에는 반대(not)라는 의미를 갖는다. 예를 들어 <code>\[^0-9\]</code>라는 정규 표현식은 숫자가 아닌 문자만 매치된다.

### 자주 사용하는 문자 클래스

- <code>\[0-9\]</code> 또는 <code>\[a-zA-Z\]</code> 등은 무척 자주 사용하는 정규 표현식이다. 이렇게 자주 사용하는 정규식은 별도의 표기법으로 표현할 수 있다. 다음을 기억해 두자.
- <code>\d</code> - 숫자와 매치된다. <code>\[0-9\]</code>와 동일한 표현식이다.
- <code>\D</code> - 숫자가 아닌 것과 매치된다. <code>\[^0-9\]</code>와 동일한 표현식이다.
- <code>\s</code> - 화이트스페이스(whitespace) 문자와 매치된다. <code>\[\t\n\r\f\v\]</code>와 동일한 표현식이다. 맨 앞의 빈칸은 공백 문자(space)를 의미한다.
- <code>\S</code> - 화이트스페이스 문자가 아닌 것과 매치된다. <code>\[^ \t\n\r\f\v\]</code>와 동일한 표현식이다.
- <code>\w</code> - 문자+숫자(alphanumeric)와 매치된다. <code>\[a-zA-Z0-9_\]</code>와 동일한 표현식이다.
- <code>\W</code> - 문자+숫자(alphanumeric)가 아닌 문자와 매치된다. <code>\[^a-zA-Z0-9_\]</code>와 동일한 표현식이다.
- 대문자로 사용된 것은 소문자의 반대임을 추측할 수 있다.

### .(dot) 문자 - <code>\n</code>을 제외한 모든 문자

- 정규 표현식의 .(dot) 메타 문자는 줄바꿈 문자인 <code>\n</code>을 제외한 모든 문자와 매치된다는 것을 의미한다.

> 정규식을 작성할 때 <code>re.DOTALL</code> 옵션을 주면 .(dot) 문자와 <code>\n</code> 문자도 매치된다.

- 다음 정규식을 살펴보자.

```
a.b
```

- 위 정규식의 의미는 다음과 같다.

```
"a + 모든_문자 + b"
```

- 즉, a와 b라는 문자 사이에 어떤 문자가 들어가도 모두 매치된다는 의미이다.
- 이해를 돕기 위해 문자열 "aab", "a0b", "abc"가 정규식 <code>a.b</code>와 어떻게 매치되는지 살펴보자.
    - "aab"는 가운데 문자 "a"가 모든 문자를 의미하는 <code>.</code>과 일치하므로 정규식과 매치된다.
    - "a0b"는 가운데 문자 "0"가 모든 문자를 의미하는 <code>.</code>과 일치하므로 정규식과 매치된다.
    - "abc"는 "a"문자와 "b"문자 사이에 어떤 문자라도 하나는 있어야 하는 이 정규식과 일치하지 않으므로 매치되지 않는다.
- 앞의 식과 조금 다른 다음 정규식을 살펴보자.

```
a[.]b
```

- 이렇게 \[\] 안에 <code>.</code> 문자를 쓰면 여기서 <code>.</code>는 메타 문자가 아니라 ‘.’ 문자 그대로를 의미한다. 즉, 이 정규식의 의미는 다음과 같다.

```
"a + . + b"
```

- 따라서 정규식 <code>a\[.\]b</code>는 "a.b" 문자열과 매치되고 "a0b" 문자열과는 매치되지 않는다. 혼동하지 않도록 주의하자.

### <code>*</code> 문자

```
ca*t
```

- 이 정규식은 반복을 의미하는 <code>*</code> 메타 문자를 사용했다. 여기에서 사용한 <code>*</code>은 <code>*</code> 바로 앞에 있는 문자 a가 0부터 무한대까지 반복될 수 있다는 의미이다.

> <code>*</code> 메타 문자의 반복 개수가 무한대라고 표현했는데, 메모리 용량에 한계가 있어 실제로는 약 2억 개라고 한다.

- 즉, 다음과 같은 문자열이 모두 매치된다.

|정규식|문자열|매치 여부|설명|
|---|---|---|----|
|<code>ca*t</code>|ct|Yes|"a"가 0번 반복되어 매치|
|<code>ca*t</code>|cat|Yes|"a"가 0번 이상 반복되어 매치(1번 반복)|
|<code>ca*t</code>|caaat|Yes|"a"가 0번 이상 반복되어 매치(3번 반복)|